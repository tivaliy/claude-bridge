# =============================================================================
# Claude Bridge Configuration
# =============================================================================

# Application Settings
DEBUG=false
HOST=0.0.0.0
PORT=8000

# Logging
LOG_LEVEL=info

# =============================================================================
# Claude CLI Settings
# =============================================================================

# Path to claude CLI binary (default: "claude")
CLAUDE_CLI_PATH=claude

# Optional: Set working directory for Claude Code operations
# CLAUDE_CWD=/path/to/your/project

# =============================================================================
# Claude CLI Permissions (REQUIRED for File Upload)
# =============================================================================

# IMPORTANT: File upload is DISABLED by default for security.
# You must explicitly configure the settings below to enable file access.

# Allowed Tools (comma-separated)
# Set to "Read" to enable file upload
# Leave empty to disable file upload entirely
# SECURITY: Only enable tools you trust!
#
# Examples:
#   CLAUDE_ALLOWED_TOOLS_STR=Read                    # Only read files (recommended)
#   CLAUDE_ALLOWED_TOOLS_STR=Read,Bash               # Read + execute (dangerous!)
#   CLAUDE_ALLOWED_TOOLS_STR=                        # Disabled (secure default)
#
CLAUDE_ALLOWED_TOOLS_STR=

# Disallowed Tools (comma-separated, optional)
# Use to explicitly block specific tools
CLAUDE_DISALLOWED_TOOLS_STR=

# Allowed Directories (comma-separated absolute paths)
# Specify which directories Claude can access
# Leave empty to disable file access
# SECURITY: Only allow directories you control!
#
# Examples:
#   CLAUDE_ALLOWED_DIRECTORIES_STR=/tmp              # Unix/Linux/macOS
#   CLAUDE_ALLOWED_DIRECTORIES_STR=C:\Temp           # Windows
#   CLAUDE_ALLOWED_DIRECTORIES_STR=/tmp,/var/temp    # Multiple directories
#   CLAUDE_ALLOWED_DIRECTORIES_STR=                  # Disabled (secure default)
#
CLAUDE_ALLOWED_DIRECTORIES_STR=

# Permission Mode
# - bypassPermissions: Skip permission prompts (required for API mode)
# - default: Interactive mode (will fail in API context)
# - acceptEdits: Auto-accept edit operations
#
# IMPORTANT: Keep this as "bypassPermissions" for API server usage
CLAUDE_PERMISSION_MODE=bypassPermissions

# =============================================================================
# Quick Start for File Upload
# =============================================================================
#
# To enable file upload support:
#
# 1. Set these two settings (or use CLI args):
#    CLAUDE_ALLOWED_TOOLS_STR=Read
#    CLAUDE_ALLOWED_DIRECTORIES_STR=/tmp
#
# 2. Restart the server:
#    claude-bridge
#
#    Or use CLI arguments:
#    claude-bridge --allowed-tools Read --allowed-directories /tmp
#
# =============================================================================

# =============================================================================
# Claude CLI Timeouts
# =============================================================================

# Maximum time (seconds) for non-streaming requests
CLAUDE_PROCESS_TIMEOUT_SECONDS=300

# Maximum idle time (seconds) during streaming
CLAUDE_STREAM_IDLE_TIMEOUT_SECONDS=180

# Grace period (seconds) after sending kill signal
CLAUDE_PROCESS_KILL_GRACE_SECONDS=5
